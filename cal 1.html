
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
</head>
<body>
<style>
  
    body {
        background-color: #212529; 
    }

    .calculator {
        max-width: 350px;
        background-color: #85a3e4; 

    .btn {
        font-size: 1.5rem;
        height: 60px;
    }

    /* History Display */
    #history-display {
        height: 30px;
        font-size: 1.25rem;
        color: black; 
        text-align: right;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    /* Main Display */
    #main-display {
        height: 70px;
        font-size: 2.5rem;
        background-color: whitesmoke; 
        color: black;
        border: none;
        text-align: right;
        padding-right: 0.75rem;
    }

    /* Button Colors */
    .btn-outline-dark {
        color: #f8f9fa;
        border-color: #f8f9fa;
    }

    .btn-info {
        background-color: #0dcaf0; 
        border-color: #0dcaf0;
        color: #c4d8ec;
    }

</style>
<div class="container mt-5">
    <div class="calculator card p-3 mx-auto">
        <div class="card-body">
            <div class="mb-2" id="history-display"></div>
            <div class="mb-3">
                <input type="text" id="main-display" class="form-control text-end fs-3" value="0" readonly>
            </div>
            
            <div class="row g-2">
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="7">7</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="8">8</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="9">9</button></div>
                <div class="col-3"><button class="btn btn-light w-100" data-value="/">/</button></div>

                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="4">4</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="5">5</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="6">6</button></div>
                <div class="col-3"><button class="btn btn-light w-100" data-value="*">*</button></div>

                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="1">1</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="2">2</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="3">3</button></div>
                <div class="col-3"><button class="btn btn-light w-100" data-value="-">-</button></div>

                <div class="col-3"><button class="btn btn-danger w-100" data-value="C">C</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value="0">0</button></div>
                <div class="col-3"><button class="btn btn-outline-dark w-100" data-value=".">.</button></div>
                <div class="col-3"><button class="btn btn-light w-100" data-value="+">+</button></div>

                <div class="col-12 mt-2"><button class="btn btn-primary w-100" data-value="=">=</button></div>
            </div>
        </div>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        const mainDisplay = document.getElementById('main-display');
        const historyDisplay = document.getElementById('history-display');
        const buttons = document.querySelectorAll('.btn');

        let currentInput = '0';
        let operator = null;
        let previousValue = null;
        let isNewCalculation = true;
        let expression = ''; 

        buttons.forEach(button => {
            button.addEventListener('click', () => {432ws432wqs
                const value = button.getAttribute('data-value');

                if (!isNaN(value) || value === '.') {
                    if (isNewCalculation) {
                        currentInput = value;
                        isNewCalculation = false;
                        expression = value;
                    } else {
                        currentInput += value;
                        expression += value;
                    }
                    mainDisplay.value = currentInput;
                    historyDisplay.textContent = expression;
                    
                } else if (['+', '-', '*', '/'].includes(value)) {
                    if (previousValue !== null) {
                        performCalculation();
                    }
                    previousValue = parseFloat(currentInput);
                    operator = value;
                    isNewCalculation = true;
                    expression = `${previousValue} ${operator}`;
                    historyDisplay.textContent = expression;

                } else if (value === '=') {
                    if (previousValue !== null && operator !== null) {
                        performCalculation();
                        expression += ` = ${mainDisplay.value}`;
                        historyDisplay.textContent = expression;
                        isNewCalculation = true;
                    }
                } else if (value === 'C') {
                    clearCalculator();
                }
            });
        });

        function performCalculation() {
            if (operator === null) return;

            let result = 0;
            const currentValue = parseFloat(currentInput);

            switch (operator) {
                case '+':
                    result = previousValue + currentValue;
                    break;
                case '-':
                    result = previousValue - currentValue;
                    break;
                case '*':
                    result = previousValue * currentValue;
                    break;
                case '/':
                    if (currentValue === 0) {
                        mainDisplay.value = 'Error';
                        clearCalculator();
                        return;
                    }
                    result = previousValue / currentValue;
                    break;
            }

            mainDisplay.value = parseFloat(result.toFixed(10));
            currentInput = mainDisplay.value;
            previousValue = null;
            operator = null;
        }

        function clearCalculator() {
            currentInput = '0';
            operator = null;
            previousValue = null;
            isNewCalculation = true;
            mainDisplay.value = '0';
            historyDisplay.textContent = '';
        }
    });
</script>

</body>
</html>
